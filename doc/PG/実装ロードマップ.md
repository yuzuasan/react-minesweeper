## 実装工程の全体像

実装は大きく **6工程** に分けるのがおすすめです。

```
① 開発環境・土台構築
② ゲームロジック（UIなし）
③ 盤面表示（静的UI）
④ 操作入力とロジック接続
⑤ ゲーム状態・画面周り
⑥ 付加機能・仕上げ
```

---

## ① 開発環境・土台構築（最初にやる）

**目的**

* 迷わずコードを書ける状態を作る

**内容**

* React + TypeScript プロジェクト作成（Vite or CRA）
* ディレクトリ構成を設計どおり作成
* 型定義（`types/`）作成
* `DEBUG_MODE` 定数の用意
* CSS Modules の動作確認

**理由**

* ここが曖昧だと後工程すべてがブレる
* 最初に「型」と「構造」を固定するのが学習的に◎

---

## ② ゲームロジック実装（UIなしで完成させる）

**目的**

* マインスイーパーの本質部分を先に固める

**内容**

* 盤面データ構造生成
* 地雷ランダム配置
* 周囲地雷数計算
* マス開放ロジック（再帰開放含む）
* 旗設置・解除
* クリア判定／ゲームオーバー判定

**実装対象**

```
src/logic/
├─ gameInitializer.ts
├─ mineGenerator.ts
├─ openCell.ts
├─ flagHandler.ts
└─ gameJudge.ts
```

**理由**

* UI と切り離すことで純粋にロジックに集中できる
* コンソールや簡易テストで動作確認可能

---

## ③ 盤面表示（静的UI）

**目的**

* 「見える状態」を作り、モチベーションを上げる

**内容**

* GameBoard / Cell コンポーネント作成
* 盤面をグリッド表示
* マス状態（未開封／開封／旗）の表示切り替え
* CSS Modules による最低限のスタイル適用

**ポイント**

* この段階では「クリックしても何も起きなくてOK」

**理由**

* 先に UI を出すことで後のデバッグが楽になる

---

## ④ 操作入力とロジック接続（中核工程）

**目的**

* ゲームとして成立させる

**内容**

* 左クリック／タップ → マス開放
* 右クリック／長押し → 旗操作
* タイマー開始制御（初回マス開放）
* ゲーム状態遷移（ready → playing）

**理由**

* ロジックが正しくても、ここが雑だと遊べない
* 設計書の効果を一番実感できる工程

---

## ⑤ ゲーム状態・画面周りの実装

**目的**

* 完成形に近づける

**内容**

* Header（残り地雷数・タイマー・リスタート）
* 難易度選択画面
* ゲームオーバー／クリア表示
* 操作無効化制御
* デバッグモード表示

**理由**

* 状態管理を一気に整理するフェーズ
* UI/UX を整えることで「完成感」が出る

---

## ⑥ 付加機能・仕上げ

**目的**

* 要件をすべて満たし、完成させる

**内容**

* ハイスコア保存（LocalStorage）
* ハイスコア表示画面
* エッジケース対応
* 手動テスト・簡易テスト
* スタイル微調整

**理由**

* ここまで来たら破壊的変更は避けたい
* 最後は「完成条件を満たすこと」に集中

---

## 推奨実装順まとめ（最重要）

```
① 環境・型・構造
② ロジック（UIなし）
③ 盤面UI
④ 操作＋ロジック接続
⑤ 状態・画面制御
⑥ 保存・仕上げ
```
